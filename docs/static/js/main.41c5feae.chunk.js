(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,r){},156:function(e,t,r){e.exports=r(241)},241:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(146),i=r.n(o),c=(r(135),r(65)),l=r(34),s=(r(162),r(250)),u=r(247),m=r(245),h=r(248),d=r(251),p=r(249),f=r(246),g=r(29),y=r(154),E=r(147),v=r(148),b=r(66);function w(){w=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new L(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return O()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var u={};function m(){}function h(){}function d(){}var p={};c(p,a,function(){return this});var f=Object.getPrototypeOf,g=f&&f(f(T([])));g&&g!==t&&r.call(g,a)&&(p=g);var y=d.prototype=m.prototype=Object.create(p);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var n;this._invoke=function(a,o){function i(){return new t(function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(m).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(v.prototype),c(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new v(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),c(y,i,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var k=s.a.Link,x=u.a.TabPane,L=m.a.Header,T=m.a.Footer,O=m.a.Sider,j=m.a.Content,P=h.a.Title,N=h.a.Paragraph,S=d.a.Panel,_=function(){var e=Object(g.k)(),t=e.camera,r=e.gl;return Object(n.useEffect)(function(){var e=new v.a(t,r.domElement);return e.minDistance=3,e.maxDistance=20,function(){e.dispose()}},[t,r]),null};function I(e){var t=Object(n.useState)(Object(g.b)(E.a,"/Playground/Lampenschirm.stl")),r=Object(l.a)(t,2),o=r[0],i=(r[1],Object(n.useState)(!1)),c=Object(l.a)(i,2),s=(c[0],c[1]),u=Object(n.useState)(!1),m=Object(l.a)(u,2),h=m[0],d=m[1];return a.a.createElement("div",null,a.a.createElement("div",{style:{width:"250",height:"800px"}},a.a.createElement(y.a,null,a.a.createElement(_,null),a.a.createElement("ambientLight",null),a.a.createElement("pointLight",{position:[0,0,0],color:"Red"}),a.a.createElement("pointLight",{position:[10,0,0],color:"White"}),a.a.createElement("pointLight",{position:[10,10,0],color:"White"}),a.a.createElement("mesh",Object.assign({},e,{scale:.05,onClick:function(e){return d(!h)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)}}),a.a.createElement("primitive",{object:o,attach:"geometry"}),a.a.createElement("meshStandardMaterial",{color:"#4d4d4d"})))))}var F=function(){var e={height:"500px",color:"#fff",lineHeight:"160px",textAlign:"center",background:"#364d79",alignContent:"center"},t={height:"700px",color:"#fff",lineHeight:"160px",textAlign:"center",background:"#364d79",alignContent:"center"},r=Object(n.useState)("Loading.."),o=Object(l.a)(r,2),i=o[0],h=o[1],g=Object(n.useState)("Loading.."),y=Object(l.a)(g,2),E=y[0],v=y[1],_=Object(n.useState)("Loading.."),F=Object(l.a)(_,2),A=F[0],C=F[1],B=Object(n.useState)("Loading.."),D=Object(l.a)(B,2),G=D[0],H=D[1],R=Object(n.useState)(!1),M=Object(l.a)(R,2),Q=M[0],W=M[1];Object(n.useEffect)(function(){!function(){var e=Object(c.a)(w().mark(function e(){var t,r,n,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("https://raw.githubusercontent.com/Fingolinmk/Playground/main/firmware/Light/src/main.cpp");case 2:return t=e.sent,h(t),e.next=6,Y("https://raw.githubusercontent.com/Fingolinmk/Playground/main/firmware/Light/lib/helper/src/helper.hpp");case 6:return r=e.sent,v(r),e.next=10,Y("https://raw.githubusercontent.com/Fingolinmk/Playground/main/firmware/Light/lib/helper/src/colormatrix_helper.hpp");case 10:return n=e.sent,C(n),e.next=14,Y("https://raw.githubusercontent.com/Fingolinmk/Playground/main/firmware/Light/lib/helper/src/colormatrix_helper.hpp");case 14:a=e.sent,H(a);case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()});var Y=function(){var e=Object(c.a)(w().mark(function e(t){var r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!(r=e.sent).ok){e.next=5;break}return e.abrupt("return",r.text());case 5:return e.abrupt("return","Error loading.");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J=a.a.useState(window.innerWidth),K=Object(l.a)(J,2),q=K[0],z=K[1];return Object(n.useEffect)(function(){window.addEventListener("resize",function(){return z(window.innerWidth)})},[]),a.a.createElement(m.a,null,a.a.createElement(L,null,"Header"),a.a.createElement(m.a,null,q<620?a.a.createElement("p",null):a.a.createElement(O,{collapsible:!0,collapsed:Q,onCollapse:function(e){return W(e)},width:200,className:"site-layout-background",theme:"light"},a.a.createElement(s.a,null,a.a.createElement(k,{href:"#Introduction",title:"Introduction"}),a.a.createElement(k,{href:"#Hardware",title:"Hardware"},a.a.createElement(k,{href:"#Electronics",title:"Electronics"}),a.a.createElement(k,{href:"#Housing",title:"Housing"})),a.a.createElement(k,{href:"#Firmware",title:"Firmware"}),a.a.createElement(k,{href:"#Software",title:"Software"}))),a.a.createElement(j,{className:"content"},a.a.createElement(P,{id:"Introduction"},"Introduction"),a.a.createElement(N,null,"This project is a demo to play with various technologie, such as \xb5C Programming, MQTT, Node-Red. Therefore I created a light that is based on an ESP32, programmed with Arduino/PlatformIO. This lamp has three \"panels\" with 24 LED's, totaling 72 LEDs. All LED's are WS2812 and are therefore individually adressable. It keeps track of the time, using NTP. The device can be controlled via custom MQTT commands. These command can be triggered using for example a simple Node-Red Dashboard, which can be accessed with any browser."),a.a.createElement(P,{level:2},"Folder Structure"),a.a.createElement(N,null,"All files (are supposed to be) / are included in this repository, including the source file to this documentation. The folders are structured into."),a.a.createElement("ul",null,a.a.createElement("li",null,"docs"),a.a.createElement("li",null,"docs_src"),a.a.createElement("li",null,"electronics"),a.a.createElement("li",null,"firmware"),a.a.createElement("li",null,"flutter_app"),a.a.createElement("li",null,"housing")),a.a.createElement(P,{id:"Hardware"}," Hardware"),a.a.createElement(P,{id:"Electronics",level:2}," Electronics"),a.a.createElement(N,null,"The PCB has been manufactured by jlcpcb and was designed in EasyEDA. I am planning to move the schematics and the layout to KiCad in the future."),a.a.createElement(p.a,{style:{width:"600px",margin:"0 auto"},autoplay:!0},a.a.createElement("div",{className:"center"},a.a.createElement("img",{style:e,alt:"The Circuit",src:"/Playground/img/circuit.png"})),a.a.createElement("div",null,a.a.createElement("img",{style:e,alt:"The Layout",src:"/Playground/img/Layout.png"})),a.a.createElement("div",null,a.a.createElement("img",{style:e,alt:"The PCB",src:"/Playground/img/pcb.jpg"})),a.a.createElement("div",null,a.a.createElement("img",{style:e,alt:"The PCB",src:"/Playground/img/PCB's.jpg"}))),a.a.createElement(P,{level:2,id:"Housing"}," Housing"),a.a.createElement(I,{position:[0,0,0]}),a.a.createElement(P,{id:"Firmware"}," Firmware"),a.a.createElement(N,null,"Programming the device requires an FT232, since I saved the space on the pcb for it. The device must be put into programming mode, therefore GPIO0 has to be LOW, see docs.espressif.com/ You can find the most relevant parts of the code below (a description will follow)."),a.a.createElement(u.a,{defaultActiveKey:"1"},a.a.createElement(x,{tab:"main.cpp",key:"1"},a.a.createElement(b.a,Object.assign({},b.b,{code:i,language:"cpp"}),function(e){var t=e.className,r=e.style,n=e.tokens,o=e.getLineProps,i=e.getTokenProps;return a.a.createElement("pre",{className:t,style:r},n.map(function(e,t){return a.a.createElement("div",o({line:e,key:t}),e.map(function(e,t){return a.a.createElement("span",i({token:e,key:t}))}))}))})),a.a.createElement(x,{tab:"helper.hpp",key:"2"},a.a.createElement(b.a,Object.assign({},b.b,{code:E,language:"cpp"}),function(e){var t=e.className,r=e.style,n=e.tokens,o=e.getLineProps,i=e.getTokenProps;return a.a.createElement("pre",{className:t,style:r},n.map(function(e,t){return a.a.createElement("div",o({line:e,key:t}),e.map(function(e,t){return a.a.createElement("span",i({token:e,key:t}))}))}))})),a.a.createElement(x,{tab:"rgb_lighthelper.hpp",key:"3"},a.a.createElement(b.a,Object.assign({},b.b,{code:A,language:"cpp"}),function(e){var t=e.className,r=e.style,n=e.tokens,o=e.getLineProps,i=e.getTokenProps;return a.a.createElement("pre",{className:t,style:r},n.map(function(e,t){return a.a.createElement("div",o({line:e,key:t}),e.map(function(e,t){return a.a.createElement("span",i({token:e,key:t}))}))}))})),"colormatrix_helper",a.a.createElement(x,{tab:"colormatrix_helper.hpp",key:"4"},a.a.createElement(b.a,Object.assign({},b.b,{code:G,language:"cpp"}),function(e){var t=e.className,r=e.style,n=e.tokens,o=e.getLineProps,i=e.getTokenProps;return a.a.createElement("pre",{className:t,style:r},n.map(function(e,t){return a.a.createElement("div",o({line:e,key:t}),e.map(function(e,t){return a.a.createElement("span",i({token:e,key:t}))}))}))}))),a.a.createElement(P,{level:2},"RGB Control"),a.a.createElement(P,{level:2},"Sleep Timer"),a.a.createElement(P,{level:2},"Alert"),a.a.createElement(P,{level:2},"Flicker"),a.a.createElement(P,{id:"Software"},"Software"),a.a.createElement(P,{id:"MQTT Commands",level:2},"MQTT Commands"),"The Lamp can be controlled via different MQTT commands, which are described in the table below.",a.a.createElement(d.a,null,a.a.createElement(S,{header:"MQTT Commands",key:"1"},a.a.createElement("p",null,a.a.createElement(f.a,{dataSource:[{key:"1",topic:"light",command:"rgb(R:INT, G:INT, B:INT)",example:'light - "rgb(255,0,0)", sets the lamp to red',description:"The colors are R(ed),G(reen), and B(lue). The colors can be 0-255"},{key:"2",topic:"light",command:"random",example:"light : random",description:"sets a random color pattern for the lamp"},{key:"3",topic:"light",command:"Sparkle",example:"light : Sparkle",description:"Lets the lamp sparkel in a random pattern for the time provided by the timer"},{key:"4",topic:"light/timer",command:"time_in_mins:INT",example:"light/timer: 10",description:"Sets the timer for fadeout and for sparkel to 10 minutes"},{key:"5",topic:"light/Alert/Status",command:"time_in_mins:BOOL",example:"light/timer: true enables the alert, that has been specified by light/Alert/Time",description:"Sets the timer for fadeout and for sparkel to 10 minutes"},{key:"6",topic:"light/Alert/Time",command:'"{"hour":[INT],"minute":[INT]}":INT',example:'light/Alert/Time : "{"hour":2,"minute":3}"',description:" Sets the time of the alert "}],columns:[{title:"command",dataIndex:"command",key:"name"},{title:"topic",dataIndex:"topic",key:"topic"},{title:"example",dataIndex:"example",key:"example"},{title:"description",dataIndex:"description",key:"description"}]})))),a.a.createElement(P,{id:"Node-Red Dashboard",level:2},"Node-Red Dashboard"),"To control the lamp a simple Node Red Dashboard can be used, see ",a.a.createElement("a",{href:"https://flows.nodered.org/node/node-red-dashboard"},"node-red-dashboard"),".",a.a.createElement(P,{id:"Flutter App"},"Flutter App "),"The app can also be controlled by the Flutter App which is shown below.",a.a.createElement(p.a,{style:{width:"600px",margin:"0 auto"},autoplay:!0},a.a.createElement("div",{className:"center"},a.a.createElement("img",{style:t,alt:"Empty Dashboard",src:"/Playground/img/App/empty.png"})),a.a.createElement("div",{className:"center"},a.a.createElement("img",{style:t,alt:"Edit Connection",src:"/Playground/img/App/edit_connection.png"})),a.a.createElement("div",{className:"center"},a.a.createElement("img",{style:t,alt:"Add Toggle Button",src:"/Playground/img/App/add_toggle.png"})),a.a.createElement("div",{className:"center"},a.a.createElement("img",{style:t,alt:"Add RGB Button",src:"/Playground/img/App/add_rgb.png"})),a.a.createElement("div",{className:"center"},a.a.createElement("img",{style:t,alt:"Full Dashboard",src:"/Playground/img/App/full_dashboard.png"}))))),a.a.createElement(T,null))},A=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,252)).then(function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),o(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(F,null))),A()}},[[156,1,2]]]);
//# sourceMappingURL=main.41c5feae.chunk.js.map