<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial scale =1.0">
    <title>ESP32 Playground </title>
    <link rel="stylesheet" href="styles.css">

</head>


<body>
    <div class="sidenav">
        <a href="#Light">Light</a>
        <a href="#Hardware">Hardware</a>
        <a href="#Firmware">Firmware</a>
        <a href="#Software">Software</a>
    </div>
    <div class="main">
        <h1 id="Light"> Light</h1>
        <h2> Introduction</h2>
        <p>
            This poroject is a demo using a simple "IoT Stack" to play with various technologies.
            Therefore I created a light that is based on an ESP32, programmed with Arduino/PlatformIO.
            This lamp has three "panels" with 24 LED's, totaling 72 LEDs. All LED's are WS2812 and are therefore
            individually adressable.
            It keeps track of the time, using
            <a href="https://en.wikipedia.org/wiki/Network_Time_Protocol">NTP</a>.

            The device can be controlled via custom <a href="https://en.wikipedia.org/wiki/MQTT">MQTT</a> commands.
            These command can be triggered using for example a simple Node-Red Dashboard, which can be accessed with any
            browser.
        </p>
        <div class="slideshow-container">
            <div class="polaroid">
                <img src="img/IMG_20220131_184430_Bokeh.jpg" alt="The Light" style="width:100%">
                <div class="container">
                    <p>The Light</p>
                </div>
            </div>
        </div>

        <p>
        <h2 id="Hardware"> Hardware</h2>
        <p>The PCB has been manufactured by <a href="https://jlcpcb.com/ ">jlcpcb</a> and was designed in <a
                href="https://easyeda.com/">EasyEDA</a>.
            I am planning to move the schematics and the layout to KiCad in the future.
        </p>


        <div class="slideshow-container">
            <div class="mySlides fade">
                <div class="polaroid">
                    <div class="numbertext">1 / 2</div>
                    <img src="img/pcb.jpg" alt="The PCB" style="width:100%">
                    <div class="container">
                        <p>The PCB</p>
                    </div>
                </div>
            </div>

            <div class="mySlides fade">
                <div class="polaroid">
                    <div class="numbertext">2 / 2</div>
                    <img src="img/PCB's.jpg" alt="Manufactured PCB's" style="width:100%">
                    <div class="container">
                        <p>Manufactured PCB's</p>
                    </div>
                </div>
            </div>
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
            <div style="text-align:center">
                <span class="dot" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
            </div>
        </div>


        <h2 id="Firmware">Firmware</h2>
        <p>Programming the device requires an FT232, since I saved the space on the pcb for it.
            The device must be put into programming mode, therefore GPIO0 has to be LOW, see <a
                href="https://docs.espressif.com/projects/esptool/en/latest/esp32/advanced-topics/boot-mode-selection.html">docs.espressif.com/</a>
        </p>
        <h3>RGB Control</h3>
        <h3>Sleep Timer</h3>
        <h3>Alert</h3>
        <h3>Flicker</h3>

        <h2 id="Software">Software</h2>

        <button type="button" class="collapsible">MQTT Commands</button>
        <div class="content">
            <p>"light" : "rgb(R, G, B)"" : Sets the color to R,G,B for the whole lamp</p>
            <p>"light" : "random": sets a random color pattern for the lamp</p>
            <p>"light" : "Sparkel": Lets the lamp sparkel in a random pattern for the time provided by the timer
            </p>
            <p> "light/timer" : "x" : sets the timer for Fadeout and for sparkel in minutes</p>
            <p> "light/Alert/Status" : "true/false" : enables the alert, that has been specified by </p>
            <p> "light/Alert/Time : "{"hour":2,"minute":3}" : Sets the time of the alert</p>
        </div>
        <p>
            To control the lamp I use a Node Red Dashboard, see <a
                href="https://flows.nodered.org/node/node-red-dashboard">node-red-dashboard</a>.
            For the future I plan to build a simple Flutter App that can do the same.
            The whole
        <p>

        <div class="polaroid" style="width:20%">
            <img src="img/Node-Red-FE.png" alt="The Light" style="width:100%">
            <div class="container">
                <p>Node Red Dashboard</p>
            </div>
        </div>

    </div>
</body>

<script type="text/javascript" src="app.js"></script>

</html>